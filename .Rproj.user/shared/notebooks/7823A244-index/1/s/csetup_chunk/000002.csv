"0","library(flexdashboard)"
"0","library(xlsx)"
"0","library(readxl)"
"0","library(sf)"
"0","library(leaflet)"
"0","library(rgdal)"
"0","library(sp)"
"0","library(ggplot2)"
"0","library(tcadr)"
"0","library(caliperR)"
"0","library(tcadr)"
"0","library(janitor)"
"0","library(data.table)"
"0","library(dplyr)"
"0","library(ggpmisc)"
"0","library(plotly)"
"0","library(data.table)"
"0","library(knitr)"
"0","library(scales)"
"0",""
"0",""
"0","temp <-  read_tcad(""C:/Users/JacobFo/TRMG2_v0.2/scenarios/base_2016/output/networks/scenario_links.bin"") %>%"
"0","  filter(Total_Flow_Daily > 0) %>%"
"0","  select(ID, RoadName, HCMType, DailyCount, Total_Flow_Daily, Total_VMT_Daily, Total_Delay_Daily, County, Max_VOC_PM, Max_VOC_AM, AreaType, MPO,Tot_Flow_AM, Tot_Flow_PM, Total_VHT_Daily, ClusterName)"
"0",""
"0","g2_geo <-  st_read(""C:/Users/JacobFo/TRMG2_v0.2/scenarios/base_2016/output/networks/scenario_links.shp"")"
"1","Reading layer `"
"1","scenario_links"
"1","' from data source "
"1","`"
"1","C:\Users\JacobFo\TRMG2_v0.2\scenarios\base_2016\output\networks\scenario_links.shp"
"1","' "
"1","using driver `"
"1","ESRI Shapefile"
"1","'"
"1","
"
"1","Simple feature collection with 127834 features and 1 field"
"1","
"
"1","Geometry type: LINESTRING
"
"1","Dimension:     XY
"
"1","Bounding box:  "
"1","xmin: -79.407 ymin: 35.33281 xmax: -78.08683 ymax: 36.49905"
"1","
"
"1","Geodetic CRS:  NAD83
"
"0","g2_geo <- g2_geo %>%"
"0","  filter(g2_geo$ID1 %in% temp$ID)"
"0",""
"0","g2 <- cbind(temp, g2_geo)"
"0",""
"0",""
"0",""
"0","g2$County <- tolower(g2$County)"
"0",""
"0",""
"0",""
"0","temp <- read_tcad(""C:/Users/JacobFo/TRMG2_v0.2/master/sedata/se_2020.bin"") %>%"
"0","  filter(Type !=""External"")"
"0",""
"0","get_counties <-read_tcad(""C:/Users/JacobFo/TRMG2_v0.2/master/tazs/master_tazs.bin"") %>% select(TAZ = ID,  County, ClusterName) "
"0",""
"0","se_2020 <- merge(temp, get_counties)"
"0",""
"0","se_2020$County <- tolower(se_2020$County)"
"0",""
"0","##  "
"0","  "
"0","v <- st_read(""C:/Users/JacobFo/OneDrive - City of Durham/Full Model Runs/Original TRMv6.2_2016 - Copy/Input/Highway/Hwy Line.shp"") "
"1","Reading layer `"
"1","Hwy Line"
"1","' from data source "
"1","
"
"1","  "
"1","`"
"1","C:\Users\JacobFo\OneDrive - City of Durham\Full Model Runs\Original TRMv6.2_2016 - Copy\Input\Highway\Hwy Line.shp"
"1","' "
"1","
"
"1","  "
"1","using driver `"
"1","ESRI Shapefile"
"1","'"
"1","
"
"1","Simple feature collection with 20567 features and 226 fields"
"1","
"
"1","Geometry type: LINESTRING
"
"1","Dimension:     XY
"
"1","Bounding box:  "
"1","xmin: -79.40624 ymin: 35.334 xmax: -78.12458 ymax: 36.49905"
"1","
"
"1","Geodetic CRS:  NAD83
"
"0","##Add VMT field"
"0","v$ToT_VMT <- (v$ABAMVMT+ v$ABMDVMT+ v$ABNTVMT+ v$ABPMVMT+v$BAAMVMT+v$BAMDVMT+ v$BANTVMT+ v$BAPMVMT)"
"0",""
"0",""
"0","##get rid of NA values, set to zero:"
"0",""
"0","v[is.na(v)]<-0"
"0",""
"0","v$COUNTY <- tolower(v$COUNTY)"
"0",""
"0",""
"0","##Add Daily Counts file: "
"0","v_counts <- read_tcad(""C:/Users/JacobFo/OneDrive - City of Durham/Full Model Runs/Original TRMv6.2_2016 - Copy/EvalModule/TRM6_Count_2016_Observed.bin"") %>%"
"0","  select(ID, Daily_Counts)"
"0",""
"0",""
"0","##Final TRMv6.2 line layer with counts"
"0","add_counts <- left_join(v, v_counts)"
"2","Joining, by = ""ID"""
"0","g2 <- st_as_sf(g2)"
"0",""
"0","local <- g2 %>%"
"0","  filter(HCMType==""Local"")"
"0",""
"0","local <- st_as_sf(local)"
"0",""
"0","TLHighway <- g2 %>%"
"0","  filter(HCMType==""TLHighway"")"
"0",""
"0","TLHighway <- st_as_sf(TLHighway)"
"0",""
"0","MajorCollector <- g2 %>%"
"0","  filter(HCMType==""MajorCollector"")"
"0",""
"0","MajorCollector <- st_as_sf(MajorCollector)"
"0",""
"0","Collector <- g2 %>%"
"0","  filter(HCMType==""Collector"")"
"0",""
"0","Collector <- st_as_sf(Collector)"
"0",""
"0","MLHighway <- g2 %>%"
"0","  filter(HCMType==""MLHighway"")"
"0",""
"0","MLHighway <- st_as_sf(MLHighway)"
"0",""
"0","MajorArterial <- g2 %>%"
"0","  filter(HCMType==""MajorArterial"")"
"0",""
"0","MajorArterial <- st_as_sf(MajorArterial)"
"0",""
"0","Arterial <- g2 %>%"
"0","  filter(HCMType==""Arterial"")"
"0",""
"0","Arterial <- st_as_sf(Arterial)"
"0",""
"0","Freeway <- g2 %>%"
"0","  filter(HCMType==""Freeway"")"
"0",""
"0","Freeway <- st_as_sf(Freeway)"
"0",""
"0",""
