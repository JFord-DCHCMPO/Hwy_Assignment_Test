"0",""
"0",""
"0","congested_bins <- c(0,1,3,5, 7, 10)"
"0",""
"0","congested_pal <- colorBin("
"0","  palette = ""YlOrRd"", na.color = ""#808080"","
"0","  bins=congested_bins,"
"0","  domain = pref_opt$ABCONGTIME)"
"0",""
"0","add_fc_one <- pref_opt %>%"
"0","  filter(FCGROUP==1)"
"0",""
"0","add_fc_one <- st_as_sf(add_fc_one)"
"0",""
"0","add_fc_two <- pref_opt %>%"
"0","  filter(FCGROUP==2)"
"0",""
"0","add_fc_three <- pref_opt %>%"
"0","  filter(FCGROUP==3)"
"0",""
"0","add_fc_four <- pref_opt %>%"
"0","  filter(FCGROUP==4)"
"0",""
"0","add_fc_five <- pref_opt %>%"
"0","  filter(FCGROUP==5)"
"0",""
"0","add_fc_999 <- pref_opt %>%"
"0","  filter(FCGROUP==999)"
"0",""
"0","bins <- c(0,1000,5000,20000, 50000,100000,200000)  "
"0",""
"0","pal <- colorBin("
"0","  palette = ""YlOrRd"", na.color = ""#808080"","
"0","  bins=bins,"
"0","  domain = pref_opt$TOTDLYVOL)"
"0",""
"0","# risk.bins <-c(0, 0.55, 0.65, 0.75, 0.85, 0.95, 1.0), "
"0","# risk.pal <- colorBin( ""YlOrRd"", bins=risk.bins, na.color = ""#aaff56"")"
"0",""
"0",""
"0","a <- leaflet()%>%"
"0","  addProviderTiles(providers$CartoDB.Positron) %>%"
"0","  addPolylines(data=add_fc_one, color=~pal(TOTDLYVOL),  "
"0","              popup = paste(""Road Name: "", add_fc_one$ROADNAME , ""<br>"","
"0","                            ""Total Daily Volume: "", add_fc_one$TOTDLYVOL"
"0","                            ),"
"0","              group=""Freeways"""
"0","               "
"0","               )%>%"
"0","    addPolylines(data=add_fc_one, color=~congested_pal(ABCONGTIME),  "
"0","              popup = paste(""Road Name: "", add_fc_one$ROADNAME , ""<br>"","
"0","                            ""Total Daily Volume: "", add_fc_one$ABCONGTIME"
"0","                            ),"
"0","              group=""AB Cong. Time"""
"0","               "
"0","               )%>%"
"0","      addPolylines(data=add_fc_one, color=~congested_pal(BACONGTIME),  "
"0","              popup = paste(""Road Name: "", add_fc_one$ROADNAME , ""<br>"","
"0","                            ""Total Daily Volume: "", add_fc_one$BACONGTIME"
"0","                            ),"
"0","              group=""BA Cong. Time"""
"0","               "
"0","               )%>%"
"0","    addPolylines(data=add_fc_two, color=~pal(TOTDLYVOL),  "
"0","              popup = paste(""Road Name: "", add_fc_two$ROADNAME , ""<br>"","
"0","                            ""Total Daily Volume: "", add_fc_two$TOTDLYVOL"
"0","                            ),"
"0","              group=""Major Arterial"""
"0","               "
"0","               )%>%"
"0","   addPolylines(data=add_fc_three, color=~pal(TOTDLYVOL),  "
"0","              popup = paste(""Road Name: "", add_fc_three$ROADNAME , ""<br>"","
"0","                            ""Total Daily Volume: "", add_fc_three$TOTDLYVOL"
"0","                            ),"
"0","              group=""Minor Arterial"""
"0","               "
"0","               )%>%"
"0","      addLegend(""bottomright"","
"0","            pal=pal,"
"0","            value=pref_opt$TOTDLYVOL,"
"0","            group=""Volume"","
"0","            title=""Total Daily Volume"") %>%"
"0",""
"0",""
"0","  "
"0","      addLegend(""bottomleft"","
"0","            pal=congested_pal,"
"0","            value=pref_opt$BACONGTIME,"
"0","            group=""BA Cong.Time "","
"0","            title=""Congested Time (Minutes)"") %>%"
"0","  "
"0","  addLayersControl(baseGroups = c(""AB Cong. Time"", ""BA Cong. Time"", ""Volume""),"
"0","                   overlayGroups = c(""Freeways"", ""Major Arterial"", ""Minor Arterial""),"
"0","                    options = layersControlOptions(collapsed = TRUE))"
"0",""
"0",""
"0",""
"0",""
"0","a %>% hideGroup(""Major Arterial"") %>% hideGroup(""Minor Arterial"")"
